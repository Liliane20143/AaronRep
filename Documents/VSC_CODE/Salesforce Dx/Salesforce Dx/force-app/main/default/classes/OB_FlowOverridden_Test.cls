@isTest
private class OB_FlowOverridden_Test {

    static testMethod void validateTest() {
        String step = '1';
		String jsonString = '{"Configuration":{"sobjectType":"NE__Order__c","OB_GT__c":""},"errorFamily":{"key1":false},"bankProfile":{"sobjectType":"ob_bank_profile__c","OB_Business_Model_POS__c":"Trilaterale Nuovo","OB_Business_Model_Acquiring__c":"Bancario"},"BillingProfile2":{"sobjectType":"ne__billing_profile__c","RecordTypeId":"","OB_ABI__c":"","OB_Bank_Account_Number__c":"","OB_Bank_Account_Owner__c":"","OB_Bank_Account_Type__c":"Debit"},"BillingProfile1":{"sobjectType":"ne__billing_profile__c","RecordTypeId":"","OB_ABI__c":"","OB_Bank_Account_Number__c":"","OB_Bank_Account_Owner__c":"","OB_Bank_Account_Type__c":"Credit"},"contact6":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"contact5":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"contact4":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"contact3":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"contact2":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"contact1":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"legale_rappresentante":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_City__c":"","OB_Document_Release_Authority__c":""},"orderId":{"sobjectType":"UNBIND","RecordTypeId":""},"pv":{"sobjectType":"ne__service_point__c","RecordTypeId":"","NE__Account__c":"","Name":"","NE__Street__c":"","NE__Zip_Code__c":"","NE__City__c":"","NE__Province__c":"","NE__Country__c":"","Id":"","OB_MCC__c":"","OB_Email__c":"","OB_PEC__c":"","OB_Opening_Monday_Morning__c":"true","OB_Opening_Monday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Tuesday_Afternoon__c":"true","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Friday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Opening_Saturday_Afternoon__c":"true","OB_Opening_Sunday_Morning__c":"true","OB_Opening_Sunday_Afternoon__c":"true"},"unbind":{"sobjectType":"UNBIND","RecordTypeId":"","nextCheckout":"","nextCheck":"","orderId":"","UNBIND7":"ACQUIRING","UNBIND5":"","UNBIND6":""},"merchant":{"sobjectType":"account","RecordTypeId":"","Id":"","Name":"","NE__Fiscal_code__c":"yuiou8956tyu895t","NE__VAT__c":"","OB_Services_Choice__c":"","OB_Legal_Address_Street__c":"","OB_Legal_Address_City__c":"","OB_Legal_Address_State__c":"","OB_Legal_Address_ZIP__c":"","OB_Legal_Address_Country__c":"","OB_Administrative_Office_City__c":"","OB_Administrative_Office_Street__c":"","OB_Administrative_Office_State__c":"","OB_Administrative_Office_ZIP__c":"","OB_Administrative_Office_Name__c":""}}';
		Map<String, Object> data = new Map<String, Object>();
		data = (Map<String, Object>)JSON.deserializeUntyped(jsonString);

        OB_FlowOverridden.validate(step, data, null, null);
        
    }

    static testMethod void overwriteNextTest() {
        String step = '1';
		String jsonString = '{"Configuration":{"sobjectType":"NE__Order__c","OB_GT__c":""},"errorFamily":{"key1":false},"bankProfile":{"sobjectType":"ob_bank_profile__c","OB_Business_Model_POS__c":"Trilaterale Nuovo","OB_Business_Model_Acquiring__c":"Bancario"},"BillingProfile2":{"sobjectType":"ne__billing_profile__c","RecordTypeId":"","OB_ABI__c":"","OB_Bank_Account_Number__c":"","OB_Bank_Account_Owner__c":"","OB_Bank_Account_Type__c":"Debit"},"BillingProfile1":{"sobjectType":"ne__billing_profile__c","RecordTypeId":"","OB_ABI__c":"","OB_Bank_Account_Number__c":"","OB_Bank_Account_Owner__c":"","OB_Bank_Account_Type__c":"Credit"},"contact6":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"contact5":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"contact4":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"contact3":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"contact2":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"contact1":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"legale_rappresentante":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_City__c":"","OB_Document_Release_Authority__c":""},"orderId":{"sobjectType":"UNBIND","RecordTypeId":""},"pv":{"sobjectType":"ne__service_point__c","RecordTypeId":"","NE__Account__c":"","Name":"","NE__Street__c":"","NE__Zip_Code__c":"","NE__City__c":"","NE__Province__c":"","NE__Country__c":"","Id":"","OB_MCC__c":"","OB_Email__c":"","OB_PEC__c":"","OB_Opening_Monday_Morning__c":"true","OB_Opening_Monday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Tuesday_Afternoon__c":"true","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Friday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Opening_Saturday_Afternoon__c":"true","OB_Opening_Sunday_Morning__c":"true","OB_Opening_Sunday_Afternoon__c":"true"},"unbind":{"sobjectType":"UNBIND","RecordTypeId":"","nextCheckout":"","nextCheck":"","orderId":"","UNBIND7":"ACQUIRING","UNBIND5":"","UNBIND6":""},"merchant":{"sobjectType":"account","RecordTypeId":"","Id":"","Name":"","NE__Fiscal_code__c":"yuiou8956tyu895t","NE__VAT__c":"","OB_Services_Choice__c":"","OB_Legal_Address_Street__c":"","OB_Legal_Address_City__c":"","OB_Legal_Address_State__c":"","OB_Legal_Address_ZIP__c":"","OB_Legal_Address_Country__c":"","OB_Administrative_Office_City__c":"","OB_Administrative_Office_Street__c":"","OB_Administrative_Office_State__c":"","OB_Administrative_Office_ZIP__c":"","OB_Administrative_Office_Name__c":""}}';
		Map<String, Object> data = new Map<String, Object>();
		data = (Map<String, Object>)JSON.deserializeUntyped(jsonString);

        OB_FlowOverridden.overwriteNext(step, data, null, null);
        
    }

    static testMethod void overwritePreviousTest() {
        String step = '1';
		String jsonString = '{"pv":{"NE__Street__c":"VIA CASALE","OB_AlternativeAddress__c":"","OB_Opening_Monday_Afternoon__c":"true","OB_Fax_Number__c":"","OB_PEC__c":"","OB_Start_Seasonal__c":"","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","Name":"test88888","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Email__c":"","OB_Workshift__c":"false","RecordTypeId":"","OB_Address_Hamlet__c":"","NE__City__c":"SALERNO","OB_Opening_Monday_Morning__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Phone_Number__c":"","OB_Opening_Tuesday_Afternoon__c":"true","OB_Privacy_C4__c":"false","OB_Privacy_C3__c":"false","OB_BypassValidation__c":"false","OB_Street_Number__c":"3","OB_Opening_Friday_Morning__c":"true","OB_Service_Point_City__c":"","OB_End_Seasonal__c":"","OB_Mobile_Phone_Number__c":"","OB_Opening_Saturday_Afternoon__c":"true","NE__Province__c":"SALERNO","OB_MCC_Description__c":"ALL","NE__Postal_Code__c":"","NE__Account__c":"","OB_MCC__c":"0000","OB_Typology__c":"Fisico","OB_Opening_Sunday_Afternoon__c":"true","OB_Service_Point_Name__c":"","Id":"","OB_Privacy_C5__c":"false","OB_Opening_Sunday_Morning__c":"true","OB_Ecommerce__c":false,"NE__Country__c":"ITALIA","sobjectType":"ne__service_point__c","NE__Zip_Code__c":"84133","NE__Country_Code__c":"ITA"},"legale_rappresentante":{"OB_Country_Birth__c":"","OB_Document_Release_Country__c":"","OB_Company_Link_Type__c":"","OB_Document_Release_City__c":"","OB_Birth_City__c":"","OB_Document_Release_State__c":"","Fax":"","OB_Document_Expiration_Date__c":"","OB_Citizenship__c":"","OB_PEP__c":"false","Id":"","OB_Document_Release_Authority__c":"","OB_Document_Release_Date__c":"","OB_Document_Number__c":"","OB_Document_Type__c":"","OB_Birth_State__c":"","OB_Birth_Date__c":"","Role__c":"","OB_Sex__c":"","OB_Fiscal_Code__c":"","LastName":"","FirstName":"","RecordTypeId":"","sobjectType":"contact"},"isLegalEqualAdm":false,"JumpToStep":4,"messageNext":{"severity":"SUCCESS","message":""},"checkMapValuesAnnRevNeg":{},"isMCCL2Blank":false,"isShopSignBlank":false,"Configuration_temp":{"sobjectType":"ne__order__c","RecordTypeId":"","NE__Parameters__c":"","OB_ReceiptCity__c":"","OB_ReceiptHeader__c":""},"OrderHeader_temp":{"sobjectType":"ne__order_header__c","RecordTypeId":"","OB_Report_Type__c":"","OB_OrderDate__c":"2018-11-22"},"pv_temp":{"NE__Country_Code__c":"ITA","OB_MCC__c":"0000","NE__Country__c":"ITALIA","NE__Account__c":"","OB_Ecommerce__c":false,"OB_BypassValidation__c":"false","NE__Zip_Code__c":"84133","OB_Typology__c":"Fisico","OB_AlternativeAddress__c":"","OB_Privacy_C5__c":"false","OB_Privacy_C4__c":"false","OB_Privacy_C3__c":"false","OB_Fax_Number__c":"","OB_Mobile_Phone_Number__c":"","OB_Phone_Number__c":"","OB_End_Seasonal__c":"","OB_Start_Seasonal__c":"","OB_Workshift__c":"false","OB_Service_Point_City__c":"","OB_Service_Point_Name__c":"","OB_PEC__c":"","OB_Email__c":"","OB_Address_Hamlet__c":"","OB_Street_Number__c":"3","OB_MCC_Description__c":"ALL","OB_Opening_Sunday_Afternoon__c":"true","OB_Opening_Sunday_Morning__c":"true","OB_Opening_Saturday_Afternoon__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Opening_Friday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Tuesday_Afternoon__c":"true","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Monday_Afternoon__c":"true","OB_Opening_Monday_Morning__c":"true","NE__Postal_Code__c":"","NE__Province__c":"SALERNO","NE__Street__c":"VIA CASALE","NE__City__c":"SALERNO","Id":"","Name":"test88888","RecordTypeId":"","sobjectType":"ne__service_point__c"},"disabledABI":true,"correctABI":true,"disabledCAB":true,"correctCAB":true,"lookupLov":"","hideFieldTypology":true,"disabledInput_sp":true,"isOldMerchantOldSp":true,"isOldMerchantNewSp":false,"disableButtonMcc":true,"ShopSign":"chiesa bella2","shopSign":"chiesa bella2","disabledVat":true,"hideFiscalCode":true,"showButtons":true,"disableDescriptionVat":true,"showModal":true,"showMerchantData":true,"hideVat":true,"disableName":true,"pvAlreadyExist":false,"setRedBorderBackup":false,"setRedBorder":false,"isNewMerchant":false,"GT":"Nexi;TRV;Other","actualBank":"","bankOwner":"","isCommunityUser":true,"searchMerchantButton":true,"isL3Required":false,"OrderHeader":{"sobjectType":"ne__order_header__c","RecordTypeId":"","Id":"","OB_Report_Type__c":"","OB_OrderDate__c":"2018-11-22"},"Configuration":{"OB_GT__c":"Nexi","OB_ReceiptHeader__c":"chiesa bella2","OB_ReceiptCity__c":"SALERNO","NE__Parameters__c":"","Id":"","RecordTypeId":"","sobjectType":"ne__order__c"},"merchant":{"Id":"","Name":"test","OB_FATECO__c":"S","OB_VAT_Not_Present__c":true,"OB_Annual_Negotiated__c":0,"OB_Annual_Revenue__c":123456789,"NE__Fiscal_code__c":"MRTMTT25D09F205Z","OB_Employees_Number__c":"Minore di 10","OB_DescriptionVATNotPresent__c":"ENTE ECCLESIASTICO","Phone":"12345678","Type":"Account","OB_Bank_owner__c":"","OB_Beneficial_Owner_Existence__c":true,"OB_Year_constitution_company__c":2018,"NE__E_mail__c":"test@test.as","OB_Legal_Address_Country__c":"ITALIA","NE__Status__c":"Prospect","attributes":{"url":"/services/data/v44.0/sobjects/Account/","type":"Account"}}}';
    
        Map<String, Object> data = new Map<String, Object>();
		data = (Map<String, Object>)JSON.deserializeUntyped(jsonString);   

        OB_FlowOverridden.overwritePrevious(step, data, null, null); 
        
    }

    static testMethod void overwriteSaveWithIdTest() {
        String step = '1';
		String jsonString = '{"pv":{"NE__Street__c":"VIA CASALE","OB_AlternativeAddress__c":"","OB_Opening_Monday_Afternoon__c":"true","OB_Fax_Number__c":"","OB_PEC__c":"","OB_Start_Seasonal__c":"","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","Name":"test88888","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Email__c":"","OB_Workshift__c":"false","RecordTypeId":"","OB_Address_Hamlet__c":"","NE__City__c":"SALERNO","OB_Opening_Monday_Morning__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Phone_Number__c":"","OB_Opening_Tuesday_Afternoon__c":"true","OB_Privacy_C4__c":"false","OB_Privacy_C3__c":"false","OB_BypassValidation__c":"false","OB_Street_Number__c":"3","OB_Opening_Friday_Morning__c":"true","OB_Service_Point_City__c":"","OB_End_Seasonal__c":"","OB_Mobile_Phone_Number__c":"","OB_Opening_Saturday_Afternoon__c":"true","NE__Province__c":"SALERNO","OB_MCC_Description__c":"ALL","NE__Postal_Code__c":"","NE__Account__c":"","OB_MCC__c":"0000","OB_Typology__c":"Fisico","OB_Opening_Sunday_Afternoon__c":"true","OB_Service_Point_Name__c":"","Id":"","OB_Privacy_C5__c":"false","OB_Opening_Sunday_Morning__c":"true","OB_Ecommerce__c":false,"NE__Country__c":"ITALIA","sobjectType":"ne__service_point__c","NE__Zip_Code__c":"84133","NE__Country_Code__c":"ITA"},"legale_rappresentante":{"OB_Country_Birth__c":"","OB_Document_Release_Country__c":"","OB_Company_Link_Type__c":"","OB_Document_Release_City__c":"","OB_Birth_City__c":"","OB_Document_Release_State__c":"","Fax":"","OB_Document_Expiration_Date__c":"","OB_Citizenship__c":"","OB_PEP__c":"false","Id":"","OB_Document_Release_Authority__c":"","OB_Document_Release_Date__c":"","OB_Document_Number__c":"","OB_Document_Type__c":"","OB_Birth_State__c":"","OB_Birth_Date__c":"","Role__c":"","OB_Sex__c":"","OB_Fiscal_Code__c":"","LastName":"","FirstName":"","RecordTypeId":"","sobjectType":"contact"},"isLegalEqualAdm":false,"JumpToStep":4,"messageNext":{"severity":"SUCCESS","message":""},"checkMapValuesAnnRevNeg":{},"isMCCL2Blank":false,"isShopSignBlank":false,"Configuration_temp":{"sobjectType":"ne__order__c","RecordTypeId":"","NE__Parameters__c":"","OB_ReceiptCity__c":"","OB_ReceiptHeader__c":""},"OrderHeader_temp":{"sobjectType":"ne__order_header__c","RecordTypeId":"","OB_Report_Type__c":"","OB_OrderDate__c":"2018-11-22"},"pv_temp":{"NE__Country_Code__c":"ITA","OB_MCC__c":"0000","NE__Country__c":"ITALIA","NE__Account__c":"","OB_Ecommerce__c":false,"OB_BypassValidation__c":"false","NE__Zip_Code__c":"84133","OB_Typology__c":"Fisico","OB_AlternativeAddress__c":"","OB_Privacy_C5__c":"false","OB_Privacy_C4__c":"false","OB_Privacy_C3__c":"false","OB_Fax_Number__c":"","OB_Mobile_Phone_Number__c":"","OB_Phone_Number__c":"","OB_End_Seasonal__c":"","OB_Start_Seasonal__c":"","OB_Workshift__c":"false","OB_Service_Point_City__c":"","OB_Service_Point_Name__c":"","OB_PEC__c":"","OB_Email__c":"","OB_Address_Hamlet__c":"","OB_Street_Number__c":"3","OB_MCC_Description__c":"ALL","OB_Opening_Sunday_Afternoon__c":"true","OB_Opening_Sunday_Morning__c":"true","OB_Opening_Saturday_Afternoon__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Opening_Friday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Tuesday_Afternoon__c":"true","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Monday_Afternoon__c":"true","OB_Opening_Monday_Morning__c":"true","NE__Postal_Code__c":"","NE__Province__c":"SALERNO","NE__Street__c":"VIA CASALE","NE__City__c":"SALERNO","Id":"","Name":"test88888","RecordTypeId":"","sobjectType":"ne__service_point__c"},"disabledABI":true,"correctABI":true,"disabledCAB":true,"correctCAB":true,"lookupLov":"","hideFieldTypology":true,"disabledInput_sp":true,"isOldMerchantOldSp":true,"isOldMerchantNewSp":false,"disableButtonMcc":true,"ShopSign":"chiesa bella2","shopSign":"chiesa bella2","disabledVat":true,"hideFiscalCode":true,"showButtons":true,"disableDescriptionVat":true,"showModal":true,"showMerchantData":true,"hideVat":true,"disableName":true,"pvAlreadyExist":false,"setRedBorderBackup":false,"setRedBorder":false,"isNewMerchant":false,"GT":"Nexi;TRV;Other","actualBank":"","bankOwner":"","isCommunityUser":true,"searchMerchantButton":true,"isL3Required":false,"OrderHeader":{"sobjectType":"ne__order_header__c","RecordTypeId":"","Id":"","OB_Report_Type__c":"","OB_OrderDate__c":"2018-11-22"},"Configuration":{"OB_GT__c":"Nexi","OB_ReceiptHeader__c":"chiesa bella2","OB_ReceiptCity__c":"SALERNO","NE__Parameters__c":"","Id":"","RecordTypeId":"","sobjectType":"ne__order__c"},"merchant":{"Id":"","Name":"test","OB_FATECO__c":"S","OB_VAT_Not_Present__c":true,"OB_Annual_Negotiated__c":0,"OB_Annual_Revenue__c":123456789,"NE__Fiscal_code__c":"MRTMTT25D09F205Z","OB_Employees_Number__c":"Minore di 10","OB_DescriptionVATNotPresent__c":"ENTE ECCLESIASTICO","Phone":"12345678","Type":"Account","OB_Bank_owner__c":"","OB_Beneficial_Owner_Existence__c":true,"OB_Year_constitution_company__c":2018,"NE__E_mail__c":"test@test.as","OB_Legal_Address_Country__c":"ITALIA","NE__Status__c":"Prospect","attributes":{"url":"/services/data/v44.0/sobjects/Account/","type":"Account"}}}';
		Map<String, Object> data = new Map<String, Object>();
		data = (Map<String, Object>)JSON.deserializeUntyped(jsonString);   
        bit2flow.DynamicWizardWrapper wizardWrapper = new bit2flow.DynamicWizardWrapper();
        bit2flow__Historic_Wizard_Data__c historicData = (bit2flow__Historic_Wizard_Data__c)bit2flow.B2FUtils.newSObject('bit2flow__Historic_Wizard_Data__c'); 
        historicData.bit2flow__Wizard_Name__c = 'Test Name';
        historicData.bit2flow__Wizard_Id__c = '1111';
        insert historicData;

        wizardWrapper.wizardId = historicData.Id;  
        wizardWrapper.name = 'Test Name';
        wizardWrapper.label = 'Test Label'; 
        
        Attachment attachment = new Attachment();
		attachment.Body = Blob.valueOf('Test Body');
		attachment.Name = 'Test Attachment Name';
		attachment.ParentId = historicData.Id;  
		insert attachment; 

        data.put('historicObject', historicData);
        

        OB_FlowOverridden.overwriteSave(step, data, null, wizardWrapper, '');
        
    }

    static testMethod void overwriteSaveWithoutIdTest() {
        String step = '1';
		String jsonString = '{"pv":{"NE__Street__c":"VIA CASALE","OB_AlternativeAddress__c":"","OB_Opening_Monday_Afternoon__c":"true","OB_Fax_Number__c":"","OB_PEC__c":"","OB_Start_Seasonal__c":"","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","Name":"test88888","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Email__c":"","OB_Workshift__c":"false","RecordTypeId":"","OB_Address_Hamlet__c":"","NE__City__c":"SALERNO","OB_Opening_Monday_Morning__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Phone_Number__c":"","OB_Opening_Tuesday_Afternoon__c":"true","OB_Privacy_C4__c":"false","OB_Privacy_C3__c":"false","OB_BypassValidation__c":"false","OB_Street_Number__c":"3","OB_Opening_Friday_Morning__c":"true","OB_Service_Point_City__c":"","OB_End_Seasonal__c":"","OB_Mobile_Phone_Number__c":"","OB_Opening_Saturday_Afternoon__c":"true","NE__Province__c":"SALERNO","OB_MCC_Description__c":"ALL","NE__Postal_Code__c":"","NE__Account__c":"","OB_MCC__c":"0000","OB_Typology__c":"Fisico","OB_Opening_Sunday_Afternoon__c":"true","OB_Service_Point_Name__c":"","Id":"","OB_Privacy_C5__c":"false","OB_Opening_Sunday_Morning__c":"true","OB_Ecommerce__c":false,"NE__Country__c":"ITALIA","sobjectType":"ne__service_point__c","NE__Zip_Code__c":"84133","NE__Country_Code__c":"ITA"},"legale_rappresentante":{"OB_Country_Birth__c":"","OB_Document_Release_Country__c":"","OB_Company_Link_Type__c":"","OB_Document_Release_City__c":"","OB_Birth_City__c":"","OB_Document_Release_State__c":"","Fax":"","OB_Document_Expiration_Date__c":"","OB_Citizenship__c":"","OB_PEP__c":"false","Id":"","OB_Document_Release_Authority__c":"","OB_Document_Release_Date__c":"","OB_Document_Number__c":"","OB_Document_Type__c":"","OB_Birth_State__c":"","OB_Birth_Date__c":"","Role__c":"","OB_Sex__c":"","OB_Fiscal_Code__c":"","LastName":"","FirstName":"","RecordTypeId":"","sobjectType":"contact"},"isLegalEqualAdm":false,"JumpToStep":4,"messageNext":{"severity":"SUCCESS","message":""},"checkMapValuesAnnRevNeg":{},"isMCCL2Blank":false,"isShopSignBlank":false,"Configuration_temp":{"sobjectType":"ne__order__c","RecordTypeId":"","NE__Parameters__c":"","OB_ReceiptCity__c":"","OB_ReceiptHeader__c":""},"OrderHeader_temp":{"sobjectType":"ne__order_header__c","RecordTypeId":"","OB_Report_Type__c":"","OB_OrderDate__c":"2018-11-22"},"pv_temp":{"NE__Country_Code__c":"ITA","OB_MCC__c":"0000","NE__Country__c":"ITALIA","NE__Account__c":"","OB_Ecommerce__c":false,"OB_BypassValidation__c":"false","NE__Zip_Code__c":"84133","OB_Typology__c":"Fisico","OB_AlternativeAddress__c":"","OB_Privacy_C5__c":"false","OB_Privacy_C4__c":"false","OB_Privacy_C3__c":"false","OB_Fax_Number__c":"","OB_Mobile_Phone_Number__c":"","OB_Phone_Number__c":"","OB_End_Seasonal__c":"","OB_Start_Seasonal__c":"","OB_Workshift__c":"false","OB_Service_Point_City__c":"","OB_Service_Point_Name__c":"","OB_PEC__c":"","OB_Email__c":"","OB_Address_Hamlet__c":"","OB_Street_Number__c":"3","OB_MCC_Description__c":"ALL","OB_Opening_Sunday_Afternoon__c":"true","OB_Opening_Sunday_Morning__c":"true","OB_Opening_Saturday_Afternoon__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Opening_Friday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Tuesday_Afternoon__c":"true","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Monday_Afternoon__c":"true","OB_Opening_Monday_Morning__c":"true","NE__Postal_Code__c":"","NE__Province__c":"SALERNO","NE__Street__c":"VIA CASALE","NE__City__c":"SALERNO","Id":"","Name":"test88888","RecordTypeId":"","sobjectType":"ne__service_point__c"},"disabledABI":true,"correctABI":true,"disabledCAB":true,"correctCAB":true,"lookupLov":"","hideFieldTypology":true,"disabledInput_sp":true,"isOldMerchantOldSp":true,"isOldMerchantNewSp":false,"disableButtonMcc":true,"ShopSign":"chiesa bella2","shopSign":"chiesa bella2","disabledVat":true,"hideFiscalCode":true,"showButtons":true,"disableDescriptionVat":true,"showModal":true,"showMerchantData":true,"hideVat":true,"disableName":true,"pvAlreadyExist":false,"setRedBorderBackup":false,"setRedBorder":false,"isNewMerchant":false,"GT":"Nexi;TRV;Other","actualBank":"","bankOwner":"","isCommunityUser":true,"searchMerchantButton":true,"isL3Required":false,"OrderHeader":{"sobjectType":"ne__order_header__c","RecordTypeId":"","Id":"","OB_Report_Type__c":"","OB_OrderDate__c":"2018-11-22"},"Configuration":{"OB_GT__c":"Nexi","OB_ReceiptHeader__c":"chiesa bella2","OB_ReceiptCity__c":"SALERNO","NE__Parameters__c":"","Id":"","RecordTypeId":"","sobjectType":"ne__order__c"},"merchant":{"Id":"","Name":"test","OB_FATECO__c":"S","OB_VAT_Not_Present__c":true,"OB_Annual_Negotiated__c":0,"OB_Annual_Revenue__c":123456789,"NE__Fiscal_code__c":"MRTMTT25D09F205Z","OB_Employees_Number__c":"Minore di 10","OB_DescriptionVATNotPresent__c":"ENTE ECCLESIASTICO","Phone":"12345678","Type":"Account","OB_Bank_owner__c":"","OB_Beneficial_Owner_Existence__c":true,"OB_Year_constitution_company__c":2018,"NE__E_mail__c":"test@test.as","OB_Legal_Address_Country__c":"ITALIA","NE__Status__c":"Prospect","attributes":{"url":"/services/data/v44.0/sobjects/Account/","type":"Account"}}}';
		Map<String, Object> data = new Map<String, Object>();
		data = (Map<String, Object>)JSON.deserializeUntyped(jsonString);   
        bit2flow.DynamicWizardWrapper wizardWrapper = new bit2flow.DynamicWizardWrapper();
        
        bit2flow__Historic_Wizard_Data__c historicData = (bit2flow__Historic_Wizard_Data__c)bit2flow.B2FUtils.newSObject('bit2flow__Historic_Wizard_Data__c'); 
        historicData.bit2flow__Wizard_Name__c = 'Test Name';
        historicData.bit2flow__Wizard_Id__c = '1111';
        insert historicData;

        NE__IntegrationAdministration__c integrationAdmin = new NE__IntegrationAdministration__c();
        integrationAdmin.NE__Name__c = 'Test Name';
        insert integrationAdmin;

        wizardWrapper.wizardId = '';  
        wizardWrapper.name = 'Test Name';
        wizardWrapper.label = 'Test Label'; 
        
	    Attachment attachment = new Attachment();
		attachment.Body = Blob.valueOf('Test Body');
		attachment.Name = 'Test Attachment Name';
		attachment.ParentId = historicData.Id;  
		insert attachment; 

        data.put('historicObject', historicData);
        

        OB_FlowOverridden.overwriteSave(step, data, null, wizardWrapper, '');
        
    }
 
    static testMethod void overwriteSaveWithoutIdTest2() {
        String step = '1';
		String jsonString = '{"pv":{"NE__Street__c":"VIA CASALE","OB_AlternativeAddress__c":"","OB_Opening_Monday_Afternoon__c":"true","OB_Fax_Number__c":"","OB_PEC__c":"","OB_Start_Seasonal__c":"","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","Name":"test88888","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Email__c":"","OB_Workshift__c":"false","RecordTypeId":"","OB_Address_Hamlet__c":"","NE__City__c":"SALERNO","OB_Opening_Monday_Morning__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Phone_Number__c":"","OB_Opening_Tuesday_Afternoon__c":"true","OB_Privacy_C4__c":"false","OB_Privacy_C3__c":"false","OB_BypassValidation__c":"false","OB_Street_Number__c":"3","OB_Opening_Friday_Morning__c":"true","OB_Service_Point_City__c":"","OB_End_Seasonal__c":"","OB_Mobile_Phone_Number__c":"","OB_Opening_Saturday_Afternoon__c":"true","NE__Province__c":"SALERNO","OB_MCC_Description__c":"ALL","NE__Postal_Code__c":"","NE__Account__c":"","OB_MCC__c":"0000","OB_Typology__c":"Fisico","OB_Opening_Sunday_Afternoon__c":"true","OB_Service_Point_Name__c":"","Id":"","OB_Privacy_C5__c":"false","OB_Opening_Sunday_Morning__c":"true","OB_Ecommerce__c":false,"NE__Country__c":"ITALIA","sobjectType":"ne__service_point__c","NE__Zip_Code__c":"84133","NE__Country_Code__c":"ITA"},"legale_rappresentante":{"OB_Country_Birth__c":"","OB_Document_Release_Country__c":"","OB_Company_Link_Type__c":"","OB_Document_Release_City__c":"","OB_Birth_City__c":"","OB_Document_Release_State__c":"","Fax":"","OB_Document_Expiration_Date__c":"","OB_Citizenship__c":"","OB_PEP__c":"false","Id":"","OB_Document_Release_Authority__c":"","OB_Document_Release_Date__c":"","OB_Document_Number__c":"","OB_Document_Type__c":"","OB_Birth_State__c":"","OB_Birth_Date__c":"","Role__c":"","OB_Sex__c":"","OB_Fiscal_Code__c":"","LastName":"","FirstName":"","RecordTypeId":"","sobjectType":"contact"},"isLegalEqualAdm":false,"JumpToStep":4,"messageNext":{"severity":"SUCCESS","message":""},"checkMapValuesAnnRevNeg":{},"isMCCL2Blank":false,"isShopSignBlank":false,"Configuration_temp":{"sobjectType":"ne__order__c","RecordTypeId":"","NE__Parameters__c":"","OB_ReceiptCity__c":"","OB_ReceiptHeader__c":""},"OrderHeader_temp":{"sobjectType":"ne__order_header__c","RecordTypeId":"","OB_Report_Type__c":"","OB_OrderDate__c":"2018-11-22"},"pv_temp":{"NE__Country_Code__c":"ITA","OB_MCC__c":"0000","NE__Country__c":"ITALIA","NE__Account__c":"","OB_Ecommerce__c":false,"OB_BypassValidation__c":"false","NE__Zip_Code__c":"84133","OB_Typology__c":"Fisico","OB_AlternativeAddress__c":"","OB_Privacy_C5__c":"false","OB_Privacy_C4__c":"false","OB_Privacy_C3__c":"false","OB_Fax_Number__c":"","OB_Mobile_Phone_Number__c":"","OB_Phone_Number__c":"","OB_End_Seasonal__c":"","OB_Start_Seasonal__c":"","OB_Workshift__c":"false","OB_Service_Point_City__c":"","OB_Service_Point_Name__c":"","OB_PEC__c":"","OB_Email__c":"","OB_Address_Hamlet__c":"","OB_Street_Number__c":"3","OB_MCC_Description__c":"ALL","OB_Opening_Sunday_Afternoon__c":"true","OB_Opening_Sunday_Morning__c":"true","OB_Opening_Saturday_Afternoon__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Opening_Friday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Tuesday_Afternoon__c":"true","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Monday_Afternoon__c":"true","OB_Opening_Monday_Morning__c":"true","NE__Postal_Code__c":"","NE__Province__c":"SALERNO","NE__Street__c":"VIA CASALE","NE__City__c":"SALERNO","Id":"","Name":"test88888","RecordTypeId":"","sobjectType":"ne__service_point__c"},"disabledABI":true,"correctABI":true,"disabledCAB":true,"correctCAB":true,"lookupLov":"","hideFieldTypology":true,"disabledInput_sp":true,"isOldMerchantOldSp":true,"isOldMerchantNewSp":false,"disableButtonMcc":true,"ShopSign":"chiesa bella2","shopSign":"chiesa bella2","disabledVat":true,"hideFiscalCode":true,"showButtons":true,"disableDescriptionVat":true,"showModal":true,"showMerchantData":true,"hideVat":true,"disableName":true,"pvAlreadyExist":false,"setRedBorderBackup":false,"setRedBorder":false,"isNewMerchant":false,"GT":"Nexi;TRV;Other","actualBank":"","bankOwner":"","isCommunityUser":true,"searchMerchantButton":true,"isL3Required":false,"OrderHeader":{"sobjectType":"ne__order_header__c","RecordTypeId":"","Id":"","OB_Report_Type__c":"","OB_OrderDate__c":"2018-11-22"},"Configuration":{"OB_GT__c":"Nexi","OB_ReceiptHeader__c":"chiesa bella2","OB_ReceiptCity__c":"SALERNO","NE__Parameters__c":"","Id":"","RecordTypeId":"","sobjectType":"ne__order__c"},"merchant":{"Id":"","Name":"test","OB_FATECO__c":"S","OB_VAT_Not_Present__c":true,"OB_Annual_Negotiated__c":0,"OB_Annual_Revenue__c":123456789,"NE__Fiscal_code__c":"MRTMTT25D09F205Z","OB_Employees_Number__c":"Minore di 10","OB_DescriptionVATNotPresent__c":"ENTE ECCLESIASTICO","Phone":"12345678","Type":"Account","OB_Bank_owner__c":"","OB_Beneficial_Owner_Existence__c":true,"OB_Year_constitution_company__c":2018,"NE__E_mail__c":"test@test.as","OB_Legal_Address_Country__c":"ITALIA","NE__Status__c":"Prospect","attributes":{"url":"/services/data/v44.0/sobjects/Account/","type":"Account"}}}';
		Map<String, Object> data = new Map<String, Object>();
		data = (Map<String, Object>)JSON.deserializeUntyped(jsonString);   
        bit2flow.DynamicWizardWrapper wizardWrapper = new bit2flow.DynamicWizardWrapper();
        
        bit2flow__Historic_Wizard_Data__c historicData = (bit2flow__Historic_Wizard_Data__c)bit2flow.B2FUtils.newSObject('bit2flow__Historic_Wizard_Data__c'); 
        historicData.bit2flow__Wizard_Name__c = 'Test Name';
        historicData.bit2flow__Wizard_Id__c = '1111';
        insert historicData;

        bit2flow__Wizard_Definition__c wizardDef = (bit2flow__Wizard_Definition__c)bit2flow.B2FUtils.newSObject('bit2flow__Wizard_Definition__c'); 
        wizardDef.bit2flow__Name__c = 'Test Name';
        wizardDef.bit2flow__Description__c = 'Descrizione Test';
        wizardDef.bit2flow__Label__c = 'Label Test';
        insert wizardDef;

        wizardWrapper.wizardId = '';  
        wizardWrapper.name = 'Test Name';
        wizardWrapper.label = 'Test Label'; 
        
	    Attachment attachment = new Attachment();
		attachment.Body = Blob.valueOf('Test Body');
		attachment.Name = 'Test Attachment Name';
		attachment.ParentId = historicData.Id;  
		insert attachment; 

        data.put('historicObject', historicData);
        

        OB_FlowOverridden.overwriteSave(step, data, null, wizardWrapper, '');
        
    }

    static testMethod void overwriteExitTest() {
        String step = '1';
		String jsonString = '{"pv":{"NE__Street__c":"VIA CASALE","OB_AlternativeAddress__c":"","OB_Opening_Monday_Afternoon__c":"true","OB_Fax_Number__c":"","OB_PEC__c":"","OB_Start_Seasonal__c":"","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","Name":"test88888","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Email__c":"","OB_Workshift__c":"false","RecordTypeId":"","OB_Address_Hamlet__c":"","NE__City__c":"SALERNO","OB_Opening_Monday_Morning__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Phone_Number__c":"","OB_Opening_Tuesday_Afternoon__c":"true","OB_Privacy_C4__c":"false","OB_Privacy_C3__c":"false","OB_BypassValidation__c":"false","OB_Street_Number__c":"3","OB_Opening_Friday_Morning__c":"true","OB_Service_Point_City__c":"","OB_End_Seasonal__c":"","OB_Mobile_Phone_Number__c":"","OB_Opening_Saturday_Afternoon__c":"true","NE__Province__c":"SALERNO","OB_MCC_Description__c":"ALL","NE__Postal_Code__c":"","NE__Account__c":"","OB_MCC__c":"0000","OB_Typology__c":"Fisico","OB_Opening_Sunday_Afternoon__c":"true","OB_Service_Point_Name__c":"","Id":"","OB_Privacy_C5__c":"false","OB_Opening_Sunday_Morning__c":"true","OB_Ecommerce__c":false,"NE__Country__c":"ITALIA","sobjectType":"ne__service_point__c","NE__Zip_Code__c":"84133","NE__Country_Code__c":"ITA"},"legale_rappresentante":{"OB_Country_Birth__c":"","OB_Document_Release_Country__c":"","OB_Company_Link_Type__c":"","OB_Document_Release_City__c":"","OB_Birth_City__c":"","OB_Document_Release_State__c":"","Fax":"","OB_Document_Expiration_Date__c":"","OB_Citizenship__c":"","OB_PEP__c":"false","Id":"","OB_Document_Release_Authority__c":"","OB_Document_Release_Date__c":"","OB_Document_Number__c":"","OB_Document_Type__c":"","OB_Birth_State__c":"","OB_Birth_Date__c":"","Role__c":"","OB_Sex__c":"","OB_Fiscal_Code__c":"","LastName":"","FirstName":"","RecordTypeId":"","sobjectType":"contact"},"isLegalEqualAdm":false,"JumpToStep":4,"messageNext":{"severity":"SUCCESS","message":""},"checkMapValuesAnnRevNeg":{},"isMCCL2Blank":false,"isShopSignBlank":false,"Configuration_temp":{"sobjectType":"ne__order__c","RecordTypeId":"","NE__Parameters__c":"","OB_ReceiptCity__c":"","OB_ReceiptHeader__c":""},"OrderHeader_temp":{"sobjectType":"ne__order_header__c","RecordTypeId":"","OB_Report_Type__c":"","OB_OrderDate__c":"2018-11-22"},"pv_temp":{"NE__Country_Code__c":"ITA","OB_MCC__c":"0000","NE__Country__c":"ITALIA","NE__Account__c":"","OB_Ecommerce__c":false,"OB_BypassValidation__c":"false","NE__Zip_Code__c":"84133","OB_Typology__c":"Fisico","OB_AlternativeAddress__c":"","OB_Privacy_C5__c":"false","OB_Privacy_C4__c":"false","OB_Privacy_C3__c":"false","OB_Fax_Number__c":"","OB_Mobile_Phone_Number__c":"","OB_Phone_Number__c":"","OB_End_Seasonal__c":"","OB_Start_Seasonal__c":"","OB_Workshift__c":"false","OB_Service_Point_City__c":"","OB_Service_Point_Name__c":"","OB_PEC__c":"","OB_Email__c":"","OB_Address_Hamlet__c":"","OB_Street_Number__c":"3","OB_MCC_Description__c":"ALL","OB_Opening_Sunday_Afternoon__c":"true","OB_Opening_Sunday_Morning__c":"true","OB_Opening_Saturday_Afternoon__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Opening_Friday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Tuesday_Afternoon__c":"true","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Monday_Afternoon__c":"true","OB_Opening_Monday_Morning__c":"true","NE__Postal_Code__c":"","NE__Province__c":"SALERNO","NE__Street__c":"VIA CASALE","NE__City__c":"SALERNO","Id":"","Name":"test88888","RecordTypeId":"","sobjectType":"ne__service_point__c"},"disabledABI":true,"correctABI":true,"disabledCAB":true,"correctCAB":true,"lookupLov":"","hideFieldTypology":true,"disabledInput_sp":true,"isOldMerchantOldSp":true,"isOldMerchantNewSp":false,"disableButtonMcc":true,"ShopSign":"chiesa bella2","shopSign":"chiesa bella2","disabledVat":true,"hideFiscalCode":true,"showButtons":true,"disableDescriptionVat":true,"showModal":true,"showMerchantData":true,"hideVat":true,"disableName":true,"pvAlreadyExist":false,"setRedBorderBackup":false,"setRedBorder":false,"isNewMerchant":false,"GT":"Nexi;TRV;Other","actualBank":"","bankOwner":"","isCommunityUser":true,"searchMerchantButton":true,"isL3Required":false,"OrderHeader":{"sobjectType":"ne__order_header__c","RecordTypeId":"","Id":"","OB_Report_Type__c":"","OB_OrderDate__c":"2018-11-22"},"Configuration":{"OB_GT__c":"Nexi","OB_ReceiptHeader__c":"chiesa bella2","OB_ReceiptCity__c":"SALERNO","NE__Parameters__c":"","Id":"","RecordTypeId":"","sobjectType":"ne__order__c"},"merchant":{"Id":"","Name":"test","OB_FATECO__c":"S","OB_VAT_Not_Present__c":true,"OB_Annual_Negotiated__c":0,"OB_Annual_Revenue__c":123456789,"NE__Fiscal_code__c":"MRTMTT25D09F205Z","OB_Employees_Number__c":"Minore di 10","OB_DescriptionVATNotPresent__c":"ENTE ECCLESIASTICO","Phone":"12345678","Type":"Account","OB_Bank_owner__c":"","OB_Beneficial_Owner_Existence__c":true,"OB_Year_constitution_company__c":2018,"NE__E_mail__c":"test@test.as","OB_Legal_Address_Country__c":"ITALIA","NE__Status__c":"Prospect","attributes":{"url":"/services/data/v44.0/sobjects/Account/","type":"Account"}}}';
		
        Map<String, Object> data = new Map<String, Object>();
		data = (Map<String, Object>)JSON.deserializeUntyped(jsonString);   

        OB_FlowOverridden.overwriteExit(step, data, null, null, ''); 
        
    }

    static testMethod void updateSectionTest() {
        String step = '1';
		String jsonString = '{"pv":{"NE__Street__c":"VIA CASALE","OB_AlternativeAddress__c":"","OB_Opening_Monday_Afternoon__c":"true","OB_Fax_Number__c":"","OB_PEC__c":"","OB_Start_Seasonal__c":"","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","Name":"test88888","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Email__c":"","OB_Workshift__c":"false","RecordTypeId":"","OB_Address_Hamlet__c":"","NE__City__c":"SALERNO","OB_Opening_Monday_Morning__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Phone_Number__c":"","OB_Opening_Tuesday_Afternoon__c":"true","OB_Privacy_C4__c":"false","OB_Privacy_C3__c":"false","OB_BypassValidation__c":"false","OB_Street_Number__c":"3","OB_Opening_Friday_Morning__c":"true","OB_Service_Point_City__c":"","OB_End_Seasonal__c":"","OB_Mobile_Phone_Number__c":"","OB_Opening_Saturday_Afternoon__c":"true","NE__Province__c":"SALERNO","OB_MCC_Description__c":"ALL","NE__Postal_Code__c":"","NE__Account__c":"","OB_MCC__c":"0000","OB_Typology__c":"Fisico","OB_Opening_Sunday_Afternoon__c":"true","OB_Service_Point_Name__c":"","Id":"","OB_Privacy_C5__c":"false","OB_Opening_Sunday_Morning__c":"true","OB_Ecommerce__c":false,"NE__Country__c":"ITALIA","sobjectType":"ne__service_point__c","NE__Zip_Code__c":"84133","NE__Country_Code__c":"ITA"},"legale_rappresentante":{"OB_Country_Birth__c":"","OB_Document_Release_Country__c":"","OB_Company_Link_Type__c":"","OB_Document_Release_City__c":"","OB_Birth_City__c":"","OB_Document_Release_State__c":"","Fax":"","OB_Document_Expiration_Date__c":"","OB_Citizenship__c":"","OB_PEP__c":"false","Id":"","OB_Document_Release_Authority__c":"","OB_Document_Release_Date__c":"","OB_Document_Number__c":"","OB_Document_Type__c":"","OB_Birth_State__c":"","OB_Birth_Date__c":"","Role__c":"","OB_Sex__c":"","OB_Fiscal_Code__c":"","LastName":"","FirstName":"","RecordTypeId":"","sobjectType":"contact"},"isLegalEqualAdm":false,"JumpToStep":4,"messageNext":{"severity":"SUCCESS","message":""},"checkMapValuesAnnRevNeg":{},"isMCCL2Blank":false,"isShopSignBlank":false,"Configuration_temp":{"sobjectType":"ne__order__c","RecordTypeId":"","NE__Parameters__c":"","OB_ReceiptCity__c":"","OB_ReceiptHeader__c":""},"OrderHeader_temp":{"sobjectType":"ne__order_header__c","RecordTypeId":"","OB_Report_Type__c":"","OB_OrderDate__c":"2018-11-22"},"pv_temp":{"NE__Country_Code__c":"ITA","OB_MCC__c":"0000","NE__Country__c":"ITALIA","NE__Account__c":"","OB_Ecommerce__c":false,"OB_BypassValidation__c":"false","NE__Zip_Code__c":"84133","OB_Typology__c":"Fisico","OB_AlternativeAddress__c":"","OB_Privacy_C5__c":"false","OB_Privacy_C4__c":"false","OB_Privacy_C3__c":"false","OB_Fax_Number__c":"","OB_Mobile_Phone_Number__c":"","OB_Phone_Number__c":"","OB_End_Seasonal__c":"","OB_Start_Seasonal__c":"","OB_Workshift__c":"false","OB_Service_Point_City__c":"","OB_Service_Point_Name__c":"","OB_PEC__c":"","OB_Email__c":"","OB_Address_Hamlet__c":"","OB_Street_Number__c":"3","OB_MCC_Description__c":"ALL","OB_Opening_Sunday_Afternoon__c":"true","OB_Opening_Sunday_Morning__c":"true","OB_Opening_Saturday_Afternoon__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Opening_Friday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Tuesday_Afternoon__c":"true","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Monday_Afternoon__c":"true","OB_Opening_Monday_Morning__c":"true","NE__Postal_Code__c":"","NE__Province__c":"SALERNO","NE__Street__c":"VIA CASALE","NE__City__c":"SALERNO","Id":"","Name":"test88888","RecordTypeId":"","sobjectType":"ne__service_point__c"},"disabledABI":true,"correctABI":true,"disabledCAB":true,"correctCAB":true,"lookupLov":"","hideFieldTypology":true,"disabledInput_sp":true,"isOldMerchantOldSp":true,"isOldMerchantNewSp":false,"disableButtonMcc":true,"ShopSign":"chiesa bella2","shopSign":"chiesa bella2","disabledVat":true,"hideFiscalCode":true,"showButtons":true,"disableDescriptionVat":true,"showModal":true,"showMerchantData":true,"hideVat":true,"disableName":true,"pvAlreadyExist":false,"setRedBorderBackup":false,"setRedBorder":false,"isNewMerchant":false,"GT":"Nexi;TRV;Other","actualBank":"","bankOwner":"","isCommunityUser":true,"searchMerchantButton":true,"isL3Required":false,"OrderHeader":{"sobjectType":"ne__order_header__c","RecordTypeId":"","Id":"","OB_Report_Type__c":"","OB_OrderDate__c":"2018-11-22"},"Configuration":{"OB_GT__c":"Nexi","OB_ReceiptHeader__c":"chiesa bella2","OB_ReceiptCity__c":"SALERNO","NE__Parameters__c":"","Id":"","RecordTypeId":"","sobjectType":"ne__order__c"},"merchant":{"Id":"","Name":"test","OB_FATECO__c":"S","OB_VAT_Not_Present__c":true,"OB_Annual_Negotiated__c":0,"OB_Annual_Revenue__c":123456789,"NE__Fiscal_code__c":"MRTMTT25D09F205Z","OB_Employees_Number__c":"Minore di 10","OB_DescriptionVATNotPresent__c":"ENTE ECCLESIASTICO","Phone":"12345678","Type":"Account","OB_Bank_owner__c":"","OB_Beneficial_Owner_Existence__c":true,"OB_Year_constitution_company__c":2018,"NE__E_mail__c":"test@test.as","OB_Legal_Address_Country__c":"ITALIA","NE__Status__c":"Prospect","attributes":{"url":"/services/data/v44.0/sobjects/Account/","type":"Account"}}}';
		
        Map<String, Object> data = new Map<String, Object>();
		data = (Map<String, Object>)JSON.deserializeUntyped(jsonString);   

        OB_FlowOverridden.updateSection(null, '', 1, true); 
        
    }

    static testMethod void executeMethodTest() {
        String step = '1';
		String jsonString = '{"pv":{"NE__Street__c":"VIA CASALE","OB_AlternativeAddress__c":"","OB_Opening_Monday_Afternoon__c":"true","OB_Fax_Number__c":"","OB_PEC__c":"","OB_Start_Seasonal__c":"","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","Name":"test88888","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Email__c":"","OB_Workshift__c":"false","RecordTypeId":"","OB_Address_Hamlet__c":"","NE__City__c":"SALERNO","OB_Opening_Monday_Morning__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Phone_Number__c":"","OB_Opening_Tuesday_Afternoon__c":"true","OB_Privacy_C4__c":"false","OB_Privacy_C3__c":"false","OB_BypassValidation__c":"false","OB_Street_Number__c":"3","OB_Opening_Friday_Morning__c":"true","OB_Service_Point_City__c":"","OB_End_Seasonal__c":"","OB_Mobile_Phone_Number__c":"","OB_Opening_Saturday_Afternoon__c":"true","NE__Province__c":"SALERNO","OB_MCC_Description__c":"ALL","NE__Postal_Code__c":"","NE__Account__c":"","OB_MCC__c":"0000","OB_Typology__c":"Fisico","OB_Opening_Sunday_Afternoon__c":"true","OB_Service_Point_Name__c":"","Id":"","OB_Privacy_C5__c":"false","OB_Opening_Sunday_Morning__c":"true","OB_Ecommerce__c":false,"NE__Country__c":"ITALIA","sobjectType":"ne__service_point__c","NE__Zip_Code__c":"84133","NE__Country_Code__c":"ITA"},"legale_rappresentante":{"OB_Country_Birth__c":"","OB_Document_Release_Country__c":"","OB_Company_Link_Type__c":"","OB_Document_Release_City__c":"","OB_Birth_City__c":"","OB_Document_Release_State__c":"","Fax":"","OB_Document_Expiration_Date__c":"","OB_Citizenship__c":"","OB_PEP__c":"false","Id":"","OB_Document_Release_Authority__c":"","OB_Document_Release_Date__c":"","OB_Document_Number__c":"","OB_Document_Type__c":"","OB_Birth_State__c":"","OB_Birth_Date__c":"","Role__c":"","OB_Sex__c":"","OB_Fiscal_Code__c":"","LastName":"","FirstName":"","RecordTypeId":"","sobjectType":"contact"},"isLegalEqualAdm":false,"JumpToStep":4,"messageNext":{"severity":"SUCCESS","message":""},"checkMapValuesAnnRevNeg":{},"isMCCL2Blank":false,"isShopSignBlank":false,"Configuration_temp":{"sobjectType":"ne__order__c","RecordTypeId":"","NE__Parameters__c":"","OB_ReceiptCity__c":"","OB_ReceiptHeader__c":""},"OrderHeader_temp":{"sobjectType":"ne__order_header__c","RecordTypeId":"","OB_Report_Type__c":"","OB_OrderDate__c":"2018-11-22"},"pv_temp":{"NE__Country_Code__c":"ITA","OB_MCC__c":"0000","NE__Country__c":"ITALIA","NE__Account__c":"","OB_Ecommerce__c":false,"OB_BypassValidation__c":"false","NE__Zip_Code__c":"84133","OB_Typology__c":"Fisico","OB_AlternativeAddress__c":"","OB_Privacy_C5__c":"false","OB_Privacy_C4__c":"false","OB_Privacy_C3__c":"false","OB_Fax_Number__c":"","OB_Mobile_Phone_Number__c":"","OB_Phone_Number__c":"","OB_End_Seasonal__c":"","OB_Start_Seasonal__c":"","OB_Workshift__c":"false","OB_Service_Point_City__c":"","OB_Service_Point_Name__c":"","OB_PEC__c":"","OB_Email__c":"","OB_Address_Hamlet__c":"","OB_Street_Number__c":"3","OB_MCC_Description__c":"ALL","OB_Opening_Sunday_Afternoon__c":"true","OB_Opening_Sunday_Morning__c":"true","OB_Opening_Saturday_Afternoon__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Opening_Friday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Tuesday_Afternoon__c":"true","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Monday_Afternoon__c":"true","OB_Opening_Monday_Morning__c":"true","NE__Postal_Code__c":"","NE__Province__c":"SALERNO","NE__Street__c":"VIA CASALE","NE__City__c":"SALERNO","Id":"","Name":"test88888","RecordTypeId":"","sobjectType":"ne__service_point__c"},"disabledABI":true,"correctABI":true,"disabledCAB":true,"correctCAB":true,"lookupLov":"","hideFieldTypology":true,"disabledInput_sp":true,"isOldMerchantOldSp":true,"isOldMerchantNewSp":false,"disableButtonMcc":true,"ShopSign":"chiesa bella2","shopSign":"chiesa bella2","disabledVat":true,"hideFiscalCode":true,"showButtons":true,"disableDescriptionVat":true,"showModal":true,"showMerchantData":true,"hideVat":true,"disableName":true,"pvAlreadyExist":false,"setRedBorderBackup":false,"setRedBorder":false,"isNewMerchant":false,"GT":"Nexi;TRV;Other","actualBank":"","bankOwner":"","isCommunityUser":true,"searchMerchantButton":true,"isL3Required":false,"OrderHeader":{"sobjectType":"ne__order_header__c","RecordTypeId":"","Id":"","OB_Report_Type__c":"","OB_OrderDate__c":"2018-11-22"},"Configuration":{"OB_GT__c":"Nexi","OB_ReceiptHeader__c":"chiesa bella2","OB_ReceiptCity__c":"SALERNO","NE__Parameters__c":"","Id":"","RecordTypeId":"","sobjectType":"ne__order__c"},"merchant":{"Id":"","Name":"test","OB_FATECO__c":"S","OB_VAT_Not_Present__c":true,"OB_Annual_Negotiated__c":0,"OB_Annual_Revenue__c":123456789,"NE__Fiscal_code__c":"MRTMTT25D09F205Z","OB_Employees_Number__c":"Minore di 10","OB_DescriptionVATNotPresent__c":"ENTE ECCLESIASTICO","Phone":"12345678","Type":"Account","OB_Bank_owner__c":"","OB_Beneficial_Owner_Existence__c":true,"OB_Year_constitution_company__c":2018,"NE__E_mail__c":"test@test.as","OB_Legal_Address_Country__c":"ITALIA","NE__Status__c":"Prospect","attributes":{"url":"/services/data/v44.0/sobjects/Account/","type":"Account"}}}';
		Map<String, Object> data = new Map<String, Object>();
		data = (Map<String, Object>)JSON.deserializeUntyped(jsonString);   

        OB_FlowOverridden.executeMethod(step, data, '','', null, null); 
        
    }

    static testMethod void initTest() {
        String step = '1';
		String jsonString = '{"pv":{"NE__Street__c":"VIA CASALE","OB_AlternativeAddress__c":"","OB_Opening_Monday_Afternoon__c":"true","OB_Fax_Number__c":"","OB_PEC__c":"","OB_Start_Seasonal__c":"","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","Name":"test88888","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Email__c":"","OB_Workshift__c":"false","RecordTypeId":"","OB_Address_Hamlet__c":"","NE__City__c":"SALERNO","OB_Opening_Monday_Morning__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Phone_Number__c":"","OB_Opening_Tuesday_Afternoon__c":"true","OB_Privacy_C4__c":"false","OB_Privacy_C3__c":"false","OB_BypassValidation__c":"false","OB_Street_Number__c":"3","OB_Opening_Friday_Morning__c":"true","OB_Service_Point_City__c":"","OB_End_Seasonal__c":"","OB_Mobile_Phone_Number__c":"","OB_Opening_Saturday_Afternoon__c":"true","NE__Province__c":"SALERNO","OB_MCC_Description__c":"ALL","NE__Postal_Code__c":"","NE__Account__c":"","OB_MCC__c":"0000","OB_Typology__c":"Fisico","OB_Opening_Sunday_Afternoon__c":"true","OB_Service_Point_Name__c":"","Id":"","OB_Privacy_C5__c":"false","OB_Opening_Sunday_Morning__c":"true","OB_Ecommerce__c":false,"NE__Country__c":"ITALIA","sobjectType":"ne__service_point__c","NE__Zip_Code__c":"84133","NE__Country_Code__c":"ITA"},"legale_rappresentante":{"OB_Country_Birth__c":"","OB_Document_Release_Country__c":"","OB_Company_Link_Type__c":"","OB_Document_Release_City__c":"","OB_Birth_City__c":"","OB_Document_Release_State__c":"","Fax":"","OB_Document_Expiration_Date__c":"","OB_Citizenship__c":"","OB_PEP__c":"false","Id":"","OB_Document_Release_Authority__c":"","OB_Document_Release_Date__c":"","OB_Document_Number__c":"","OB_Document_Type__c":"","OB_Birth_State__c":"","OB_Birth_Date__c":"","Role__c":"","OB_Sex__c":"","OB_Fiscal_Code__c":"","LastName":"","FirstName":"","RecordTypeId":"","sobjectType":"contact"},"isLegalEqualAdm":false,"JumpToStep":4,"messageNext":{"severity":"SUCCESS","message":""},"checkMapValuesAnnRevNeg":{},"isMCCL2Blank":false,"isShopSignBlank":false,"Configuration_temp":{"sobjectType":"ne__order__c","RecordTypeId":"","NE__Parameters__c":"","OB_ReceiptCity__c":"","OB_ReceiptHeader__c":""},"OrderHeader_temp":{"sobjectType":"ne__order_header__c","RecordTypeId":"","OB_Report_Type__c":"","OB_OrderDate__c":"2018-11-22"},"pv_temp":{"NE__Country_Code__c":"ITA","OB_MCC__c":"0000","NE__Country__c":"ITALIA","NE__Account__c":"","OB_Ecommerce__c":false,"OB_BypassValidation__c":"false","NE__Zip_Code__c":"84133","OB_Typology__c":"Fisico","OB_AlternativeAddress__c":"","OB_Privacy_C5__c":"false","OB_Privacy_C4__c":"false","OB_Privacy_C3__c":"false","OB_Fax_Number__c":"","OB_Mobile_Phone_Number__c":"","OB_Phone_Number__c":"","OB_End_Seasonal__c":"","OB_Start_Seasonal__c":"","OB_Workshift__c":"false","OB_Service_Point_City__c":"","OB_Service_Point_Name__c":"","OB_PEC__c":"","OB_Email__c":"","OB_Address_Hamlet__c":"","OB_Street_Number__c":"3","OB_MCC_Description__c":"ALL","OB_Opening_Sunday_Afternoon__c":"true","OB_Opening_Sunday_Morning__c":"true","OB_Opening_Saturday_Afternoon__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Opening_Friday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Tuesday_Afternoon__c":"true","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Monday_Afternoon__c":"true","OB_Opening_Monday_Morning__c":"true","NE__Postal_Code__c":"","NE__Province__c":"SALERNO","NE__Street__c":"VIA CASALE","NE__City__c":"SALERNO","Id":"","Name":"test88888","RecordTypeId":"","sobjectType":"ne__service_point__c"},"disabledABI":true,"correctABI":true,"disabledCAB":true,"correctCAB":true,"lookupLov":"","hideFieldTypology":true,"disabledInput_sp":true,"isOldMerchantOldSp":true,"isOldMerchantNewSp":false,"disableButtonMcc":true,"ShopSign":"chiesa bella2","shopSign":"chiesa bella2","disabledVat":true,"hideFiscalCode":true,"showButtons":true,"disableDescriptionVat":true,"showModal":true,"showMerchantData":true,"hideVat":true,"disableName":true,"pvAlreadyExist":false,"setRedBorderBackup":false,"setRedBorder":false,"isNewMerchant":false,"GT":"Nexi;TRV;Other","actualBank":"","bankOwner":"","isCommunityUser":true,"searchMerchantButton":true,"isL3Required":false,"OrderHeader":{"sobjectType":"ne__order_header__c","RecordTypeId":"","Id":"","OB_Report_Type__c":"","OB_OrderDate__c":"2018-11-22"},"Configuration":{"OB_GT__c":"Nexi","OB_ReceiptHeader__c":"chiesa bella2","OB_ReceiptCity__c":"SALERNO","NE__Parameters__c":"","Id":"","RecordTypeId":"","sobjectType":"ne__order__c"},"merchant":{"Id":"","Name":"test","OB_FATECO__c":"S","OB_VAT_Not_Present__c":true,"OB_Annual_Negotiated__c":0,"OB_Annual_Revenue__c":123456789,"NE__Fiscal_code__c":"MRTMTT25D09F205Z","OB_Employees_Number__c":"Minore di 10","OB_DescriptionVATNotPresent__c":"ENTE ECCLESIASTICO","Phone":"12345678","Type":"Account","OB_Bank_owner__c":"","OB_Beneficial_Owner_Existence__c":true,"OB_Year_constitution_company__c":2018,"NE__E_mail__c":"test@test.as","OB_Legal_Address_Country__c":"ITALIA","NE__Status__c":"Prospect","attributes":{"url":"/services/data/v44.0/sobjects/Account/","type":"Account"}}}';
        Map<String, Object> data = new Map<String, Object>(); 
		data = (Map<String, Object>)JSON.deserializeUntyped(jsonString);   

        OB_FlowOverridden flow = new OB_FlowOverridden();
        flow.init(step, data, null, null); 
         
    }

    static testMethod void saveTest() {
        String step = '1';
		String jsonString = '{"Configuration":{"sobjectType":"NE__Order__c","OB_GT__c":""},"errorFamily":{"key1":false},"bankProfile":{"sobjectType":"ob_bank_profile__c","OB_Business_Model_POS__c":"Trilaterale Nuovo","OB_Business_Model_Acquiring__c":"Bancario"},"BillingProfile2":{"sobjectType":"ne__billing_profile__c","RecordTypeId":"","OB_ABI__c":"","OB_Bank_Account_Number__c":"","OB_Bank_Account_Owner__c":"","OB_Bank_Account_Type__c":"Debit"},"BillingProfile1":{"sobjectType":"ne__billing_profile__c","RecordTypeId":"","OB_ABI__c":"","OB_Bank_Account_Number__c":"","OB_Bank_Account_Owner__c":"","OB_Bank_Account_Type__c":"Credit"},"contact6":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"contact5":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"contact4":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"contact3":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"contact2":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"contact1":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","AccountId":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Release_City__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_Authority__c":""},"legale_rappresentante":{"sobjectType":"contact","RecordTypeId":"","FirstName":"","LastName":"","OB_Fiscal_Code__c":"","OB_Sex__c":"","Role__c":"","OB_Birth_Date__c":"","OB_Birth_State__c":"","OB_Birth_City__c":"","OB_Document_Type__c":"","OB_Document_Number__c":"","OB_Document_Release_Date__c":"","OB_Document_Release_City__c":"","OB_Document_Release_Authority__c":""},"orderId":{"sobjectType":"UNBIND","RecordTypeId":""},"pv":{"sobjectType":"ne__service_point__c","RecordTypeId":"","NE__Account__c":"","Name":"","NE__Street__c":"","NE__Zip_Code__c":"","NE__City__c":"","NE__Province__c":"","NE__Country__c":"","Id":"","OB_MCC__c":"","OB_Email__c":"","OB_PEC__c":"","OB_Opening_Monday_Morning__c":"true","OB_Opening_Monday_Afternoon__c":"true","OB_Opening_Thursday_Morning__c":"true","OB_Opening_Thursday_Afternoon__c":"true","OB_Opening_Tuesday_Morning__c":"true","OB_Opening_Tuesday_Afternoon__c":"true","OB_Opening_Wednesday_Morning__c":"true","OB_Opening_Wednesday_Afternoon__c":"true","OB_Opening_Friday_Morning__c":"true","OB_Opening_Friday_Afternoon__c":"true","OB_Opening_Saturday_Morning__c":"true","OB_Opening_Saturday_Afternoon__c":"true","OB_Opening_Sunday_Morning__c":"true","OB_Opening_Sunday_Afternoon__c":"true"},"unbind":{"sobjectType":"UNBIND","RecordTypeId":"","nextCheckout":"","nextCheck":"","orderId":"","UNBIND7":"ACQUIRING","UNBIND5":"","UNBIND6":""},"merchant":{"sobjectType":"account","RecordTypeId":"","Id":"","Name":"","NE__Fiscal_code__c":"yuiou8956tyu895t","NE__VAT__c":"","OB_Services_Choice__c":"","OB_Legal_Address_Street__c":"","OB_Legal_Address_City__c":"","OB_Legal_Address_State__c":"","OB_Legal_Address_ZIP__c":"","OB_Legal_Address_Country__c":"","OB_Administrative_Office_City__c":"","OB_Administrative_Office_Street__c":"","OB_Administrative_Office_State__c":"","OB_Administrative_Office_ZIP__c":"","OB_Administrative_Office_Name__c":""}}';

        Map<String, Object> data = new Map<String, Object>();
		data = (Map<String, Object>)JSON.deserializeUntyped(jsonString);   

        OB_FlowOverridden flow = new OB_FlowOverridden();
        flow.save(step, data, '', null, null); 
        
    }

}